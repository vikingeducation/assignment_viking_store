<div class="col-md-9 box">
   
  <div class="col-md-12 sub-box">

    <h3>User <%="#{@user.id}: #{@user.first_name} #{@user.last_name}" %></h3>
   
    <h4>Demographic Information</h4>

    <div class="row">
      <div class="col-md-4">
        <strong>First Name</strong>
      </div>
      
      <div class="col-md-8">
        <%= @user.first_name %>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <strong>Last Name</strong>
      </div>

      <div class="col-md-8">
        <%= @user.last_name %>
      </div>
    </div>

     <div class="row">
      <div class="col-md-4">
        <strong>Email</strong>
      </div>

      <div class="col-md-8">
        <%= @user.email %>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <strong>Telephone</strong>
      </div>

      <div class="col-md-8">
        <%= @user.phone_number %>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <strong>Default Billing Address</strong>
      </div>

      <div class="col-md-8">
        <%= format_address(billing_address(@user)) %>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <strong>Default Shipping Address</strong>
      </div>

      <div class="col-md-8">
        <%= format_address(shipping_address(@user)) %>
      </div>
    </div>
 
    <%= link_to "Edit #{@user.first_name} #{@user.last_name}'s Information", edit_user_path(@user) %><br>
    <%= link_to  "Delete #{@user.first_name} #{@user.last_name}", user_path(@user), data: { confirm: "Are you sure?" }, method: :delete %><br>
    <%= link_to "View Saved Addresses", user_addresses_path(@user) %><br>

    <% if has_cart?(@user) %>
      <%= link_to "View Unplaced Order (Cart)", user_orders_path(@user) %>
    <% else %>
      <%= content_tag(:span, "View Unplaced Order (cart)", class: "no-cart") %>
    <% end %>

  </div>

  <div class="col-md-12 sub-box">
    <h3>Credit Card Information</h3>

    <div class="row">
      <div class="col-md-4">
        <strong>First Name</strong>
      </div>

      <div class="col-md-8">
        <%= @user.first_name %>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <strong>Last Name</strong>
      </div>

      <div class="col-md-8">
        <%= @user.last_name %>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <strong>Number</strong>
      </div>

      <div class="col-md-8">
        <%= @user.phone_number %>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <strong>Expiration</strong>
      </div>

      <div class="col-md-8">
        <%= "#{@user.credit_cards.first.expiration_month} - #{@user.credit_cards.first.experiation_year}" %>
      </div>
    </div>

    <%= link_to  "Remove Card", "#", data: { confirm: "Are you sure?" }, method: :delete %>
  </div>

  <div class="col-md-12 sub-box">
    <h3>Admin Actions for <%="#{@user.first_name} #{@user.last_name}" %></h3>

    <%= link_to "Create Order", new_user_order_path(@user), class: "btn btn-primary btn-default" %><br>
  
    <%= link_to "Create Address", new_user_address_path(@user), class: "btn btn-primary btn-default" %>
  </div>

  <div class="col-md-12 sub-box">
    <h3>Order History</h3>

    <div class="panel panel-default">

      <table class="table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Order Date</th>
            <th>Order Value</th>
            <th>Status</th>
            <th>SHOW</th>
            <th>EDIT</th>
            <th>DELETE</th>
          </tr>
        </thead>
        <tbody>

        <% @user.orders.each do |order| %>
          <tr>
            <td><%= order.id %></td>
            <td><%= order.created_at.strftime("%m-%d-%Y") %></td>
            <td><%= order.products.sum("price") %></td>
            <td><%= checked_out(order) %></td>
            <td><%= link_to "show", "#" %></td>
            <td><%= link_to "edit", "#" %></td>
            <td><%= link_to  "delete", "#", data: { confirm: "Are you sure?" }, method: :delete %></td>
          </tr>
        <% end %>
         
        </tbody>
      </table>
    </div>

  </div>




</div>